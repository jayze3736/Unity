## 1. 프로세스의 생성
프로세스는 Tree 형태로 생성된다. 프로세스를 생성할 경우 부모 프로세스로부터 자식 프로세스가 생성된다.   
기본적으로 자식 프로세스는 부모 프로세스의 자원을 공유한다. (자원: 점유하고 있는 메모리 주소 공간, PC 값, register 값 등 프로세스 문맥)   
만약 자식 프로세스에서 CPU 문맥을 바꿔야할 경우 부모 프로세스의 CPU 문맥중 사용할 부분을 복사하여 별도의 프로세스로 실행된다.(COW - Copy On Write) 

## 2. 프로세스 관련 시스템 콜
### Fork()
운영체제에서 사용하는 프로세스를 생성하는 시스템 콜이며 프로세스 문맥을 그대로 복사하여 자식 프로세스를 생성한다.  
부모 프로세스일경우 0이 아닌 정수값을 반환하고 자식 프로세스일경우 0을 반환한다.

### Exec()
프로세스의 내용을 다른 프로그램으로 덮어 씌우고 실행시키는 시스템 콜

### Wait()
자식 프로세스가 종료될때까지 부모 프로세스를 대기시키는 시스템 콜

## 3. 프로세스의 종료
1. 자발적 종료(Exit): 프로그램에서 명령어를 모두 처리해서 종료시키는 경우
2. 비자발적 종료(Abort): 순순히 종료된것이 아닌 중간에서 사용자의 개입으로 프로그램이 강제적으로 종료되는 경우

### 자발적 종료
프로세스가 마지막 명령어를 처리하는 경우 운영체제에서 이를 알려주고 종료시키면서 자원을 반납한다. 자식 프로세스는 부모 프로세스의 종료되었다는 의미로 Output data
를 전송한다. 기본적으로 프로세스의 종료순서는 자식에서 부모순으로 종료된다.

### 비자발적 종료
1. 예외적으로 부모 프로세스가 종료해야될 경우 자식 프로세스를 먼저 강제로 종료시킴
2. 사용할 수 있는 메모리 자원이 없을때 자식 프로세스를 종료시킴
3. 더이상 처리할 일이 없을때 종료

## 4. Fork()함수의 프로세스 생성

``` C
int main(){
int pid; //1
pid = fork();  //2

if(pid == 0)
printf("Child process"); //3
else if(pid > 0)
prinf("Parent process"); //4

}
```

부모 프로세스에서 fork()함수를 실행시킬경우 **CPU 문맥**을 복사하여 새로운 프로세스를 생성한다. 즉, 프로그램 처리 진행상황까지 복사하기때문에 //2번의 fork() 실행이후 지점부터 자식 프로세스에서 명령줄을 처리한다. 부모 프로세스의 pid 변수의 값은 0이 아닌 값을 받으므로 //4가 실행되고 자식 프로세스는 0을 받으므로 //3이 실행된다.


## 5. 프로세스간의 협력
기본적으로 프로세스는 독립적인 주소공간을 보유하기때문에 주소공간을 넘나드며 한 프로세스가 다른 프로세스에게 영향을 주는 것이 불가능하다. 하지만 커널의 도움을 받아
메세지를 전달하거나 주소공간을 직접 공유하는 경우에는 영향을 주고 받는 것이 가능하다.

1. message 전달
2. shared memory

### message 전달
커널을 통해 message를 전달하는 것이가능하다. 한 프로세스가 종료하면 커널에게 메세지를 전달하고 그 메세지를 커널이 다른 프로세스에게 전달하므로써 영향을 줄 수 있다

#### 전달 방식
1. 송신 상대를 직접 명시하는 경우
2. Mailbox에 첨부하고 다른 프로세스가 가져가는 경우

### shared memory
물리적인 주소공간을 일부 공유하는 방식에 해당한다. 단, 협력하는 두 프로세스가 서로 신뢰할 수 있는 프로세스여야만 한다.





