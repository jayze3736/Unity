# 컴퓨터의 기본적인 구조
수업 참조: http://www.kocw.net/home/search/kemView.do?kemId=1046323   
컴퓨터는 CPU, 메모리, Timer, DMA, I/O로 구성되어있다.

## 1. CPU
CPU는 컴퓨터에서 연산처리 역할을 수행하며 메모리하고만 작업한다. CPU에는 interrupt, mode bit, register 장치를 포함한다. 이러한 장치들은 커널이 특정 작업을 수행할 수 있도록 도와준다.

### 커널
커널은 운영체제(OS) 프로그램이 메모리에 올라와있는 것을 말한다. 커널을 통해 I/O controller에 명령을 내리는등의 작업을 수행할 수 있다. CPU가 메모리에 접근하여 메모리하고만 작업을 하는
대신 CPU는 커널에게 명령을 통해 이런저런 일을 수행시키도록 한다.

### interrupt
메모리에서는 사용자 프로그램과 운영체제 프로그램이 적재되어 처리되는데, CPU의 작업시간을 사용자 프로그램에서 사용하다가 사용자 프로그램이 종료되면 운영체제에게 CPU 작업시간을 넘겨준다.
CPU가 메모리의 어느 프로그램에서 처리하고있든지 인터럽트가 활성화되면 CPU의 작업 권한을 OS 프로그램에게 넘겨주게된다.

### register
CPU의 작업공간

### mode bit
CPU가 사용자 프로그램을 처리하고 있으면 mode bit은 0, OS 프로그램을 처리하고 있으면 mode bit은 1을 표시한다.

## 2. 메모리
메모리에 사용자 프로그램과 OS 프로그램이 적재되어 실행된다. CPU는 메모리에 접근하여 사용자 프로그램을 작업하고 그 프로그램이 종료될때 운영체제 프로그램을 실행한다.
### Memory Controller
CPU의 메모리 접근과 DMA의 메모리 접근간의 충돌이 발생하지않도록 정리하는 역할을 수행한다. 예를 들면, CPU와 DMA가 메모리의 같은 주소를 참조하지않도록 방지하는 경우가 해당한다.
### 사용자 프로그램
말 그대로 사용자가 작성한 프로그램에 해당한다. 프로그램이 종료되면 CPU의 점유를 OS로 전환한다. TIMER 값에의해 인터럽트가 발생해도 CPU 점유를 OS로 전환한다.
### OS 프로그램
I/O controller가 처리한 데이터를 메모리에 복사하는등 장치간의 연결과 커뮤니케이션을 담당한다. 마치 장기기관이 움직일 수 있도록 흐르는 혈액같다.

## Timer
어느 사용자 프로그램이 CPU의 작업시간을 독점하지않게 방지하기위해 프로그램에 TIMER 값을 설정한다. 설정한 타이머값만큼 시간이 지나면 즉시 해당 프로그램의 CPU 점유를 멈추고
OS에게 점유권한을 넘긴다.   
예를 들면, 무한 루프와 같은 끝나지 않는 작업은 CPU를 독점하게되므로 시간제한이 없다면 그 사용자프로그램은 CPU를 독점하는 셈이 된다. 독점하게되면 다른 작업을 수행할 수 없고
완전히 시스템이 멈춰버리는 현상이 발생하므로 이러한 경우를 방지하기위해 TIMER 값을 두어 프로그램에 시간제한을 두는 것이다.

## DMA(Direct Memory Access)
I/O 작업이 완료될때마다 인터럽트를 걸면 CPU는 하던 작업을 그만두고 OS 프로그램을 사용하여 필요한 I/O 데이터값을 가져온다. 그 이후 해당 데이터를 사용자프로그램에 복사시키는데,
이렇게되면 빈번히 인터럽트가 걸려 시스템 효율성이 떨어진다.    
따라서 I/O 작업을 수행할때 CPU의 개입이 없도록 I/O 데이터를 전송하면 인터럽트를 발생시키지않고 DMA에서 전송된 값을
복사하여 직접 메모리에 전달한다.    
즉, I/O와 메모리간의 직접적인 데이터 전송이 가능해지므로 한 바이트마다 인터럽트를 발생시켜 값을 복사-저장할 필요없이 데이터 전송이 모두
완료되었을때만 인터럽트를 발생시키면 된다.

## I/O (Input/Output)
I/O는 마우스(입력 장치), 스피커(출력 장치)와 같은 입력/출력 장치를 말한다.
### I/O Controller
마우스면 마우스 컨트롤러, 스피커면 스피커 컨트롤러, 디스크면 디스크 컨트롤러 각각 I/O 장치별로 Controller가 존재하며 사용자 프로그램에서 I/O에 관련된 명령을 처리해야할 경우
CPU가 I/O 컨트롤러에게 명령을 내리고 컨트롤러에서 해당 명령을 처리한다.    
작업이 완료되면 인터럽트를 활성화시키고 OS 프로그램에서 이 값을 가져가라고 한다.
그러나 이렇게 여러 I/O 작업에 의해 인터럽트가 빈번히 활성화되고 CPU의 점유가 OS 프로그램에게 자주 넘겨지면 효율적으로 시스템이 돌아가지않을 수 있다. 따라서 DMA라는 장치는 
효율적으로 I/O 처리를 도와준다.

### buffer(버퍼)
I/O 컨트롤러의 작업공간에 해당하며 버퍼로 I/O 데이터값을 저장하고 처리한다. 예를 들면 키보드에서 문자를 입력하면 버퍼로 문자가 저장되고 문자열 입력이 끝나면 해당 버퍼에 저장된
문자열 값을 추출하여 컨트롤러에게 넘기고 OS는 이 값을 메모리에 복사하여 처리한다.
